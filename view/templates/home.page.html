{{template "base" .}}

{{define "title"}}Home{{end}}

{{define "styles"}}
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/post.css">
    <link rel="stylesheet" href="/static/css/home.css">
    <link rel="stylesheet" href="/static/css/auth.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,900;1,100;1,200&display=swap" rel="stylesheet">
{{end}}

{{define "body"}}
<div id="overlay"></div>
    {{template "sign-up" .}}
    {{template "sign-in" .}}
    <div class="post-container">
        {{range .Posts }}
        <div class="post">
            <div class="id" hidden>{{.ID}}</div>
                <div class="post-rating">
                    <div class="post-likes">
                        <p class="likes">{{.Likes}}</p>
                        <form action="/post/rate/" method="POST">
                            <input type="hidden" name="post_id" value="{{.ID}}">
                            <input type="hidden" name="action" value="wow">
                            <button class="likeBtn"  type="submit">
                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1000" height="1000" viewBox="0 0 1000 1000" xml:space="preserve">
                                <rect x="0" y="0" width="100%" height="100%" fill="rgba(255,255,255,0)"/>
                                <g transform="matrix(28.0825 0 0 28.0825 500.0005 500.0005)" id="922731">
                                <g vector-effect="non-scaling-stroke">
                                <g transform="matrix(1 0 0 1 -10 7)" id="Stock_cut">
                                <rect class="pattern-rect" x="-3" y="-8" rx="0" ry="0" width="6" height="16"/>
                                </g>
                                <g transform="matrix(1 0 0 1 3 1)" id="Stock_cut">
                                <path class="pattern-like" transform=" translate(-19, -17)" d="M 9 15 l 5 -5 l 2 -7 h 0 c 2.209 0 4 1.791 4 4 v 8 h 5 h 0 c 2.209 0 4 1.791 4 4 v 0 l -1.721 10.329 C 27.118 30.293 26.283 31 25.306 31 H 9 V 15 z" stroke-linecap="round"/>
                                </g>
                                </g>
                                </g>
                                </svg>
                            </button>
                        </form>
                    </div>

                    <div class="post-dislikes">
                    <p class="dislikes">{{.Dislikes}}</p>
                        <form action="/post/rate/" method="POST">
                            <input type="hidden" name="post_id" value="{{.ID}}">
                            <input type="hidden" name="action" value="boo">
                            <button class="dislikeBtn" type="submit">
                                <svg class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1000" height="1000" viewBox="0 0 1000 1000" xml:space="preserve">
                                <rect x="0" y="0" width="100%" height="100%" fill="rgba(255,255,255,0)"/>
                                <g transform="matrix(-28.0825 0 0 -28.0825 499.9995 499.9995)" id="922731">
                                <g vector-effect="non-scaling-stroke">
                                <g transform="matrix(1 0 0 1 -10 7)" id="Stock_cut">
                                <rect class="pattern-rect"  x="-3" y="-8" rx="0" ry="0" width="6" height="16"/>
                                </g>
                                <g transform="matrix(1 0 0 1 3 1)" id="Stock_cut">
                                <path class="pattern-dislike" transform=" translate(-19, -17)" d="M 9 15 l 5 -5 l 2 -7 h 0 c 2.209 0 4 1.791 4 4 v 8 h 5 h 0 c 2.209 0 4 1.791 4 4 v 0 l -1.721 10.329 C 27.118 30.293 26.283 31 25.306 31 H 9 V 15 z" stroke-linecap="round"/>
                                </g>
                                </g>
                                </g>
                                </svg>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="post-content">
                    <div class="post-categories">
                        {{range .Category}}
                        <div class="post-category">{{.}}</div>
                        {{end}}
                    </div>
                    <div class="post-author">Posted by: {{.Author}} at {{.CreatedStr}}</div>
                    <div class="post-title">{{ .Title }}</div>
                    <div class="post-text"><p>{{.Content}}</p></div>
                    <div class="post-update">Last update: {{.UpdatedStr}}</div>
                    <div class="post-comments">
                        <a href="/post/comments/?id={{.ID}}">
                            <svg class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1000" height="1000" viewBox="0 0 1000 1000" xml:space="preserve">
                            <desc>Created with Fabric.js 3.5.0</desc>
                            <defs>
                            </defs>
                            <rect x="0" y="0" width="100%" height="100%" fill="rgba(255,255,255,0)"/>
                            <g transform="matrix(51.0901 0 0 51.0901 498.6285 498.6285)" id="793986">
                            <path style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; is-custom-font: none; font-file-url: none; fill: rgb(245, 245, 245); fill-rule: nonzero; opacity: 1;" vector-effect="non-scaling-stroke" transform=" translate(-12, -12)" d="M 18 7.25 h -0.25 V 6 A 3.754 3.754 0 0 0 14 2.25 H 6 A 3.754 3.754 0 0 0 2.25 6 V 16 a 0.75 0.75 0 0 0 0.466 0.694 A 0.741 0.741 0 0 0 3 16.75 a 0.749 0.749 0 0 0 0.536 -0.225 L 5.275 14.75 H 6.25 V 16 A 3.754 3.754 0 0 0 10 19.75 h 8.725 l 1.739 1.775 A 0.749 0.749 0 0 0 21 21.75 a 0.741 0.741 0 0 0 0.284 -0.056 A 0.75 0.75 0 0 0 21.75 21 V 11 A 3.754 3.754 0 0 0 18 7.25 Z m -13.04 6 a 0.75 0.75 0 0 0 -0.536 0.225 l -0.674 0.688 V 6 A 2.252 2.252 0 0 1 6 3.75 h 8 A 2.252 2.252 0 0 1 16.25 6 v 5 A 2.252 2.252 0 0 1 14 13.25 Z m 15.29 5.913 l -0.674 -0.688 a 0.75 0.75 0 0 0 -0.536 -0.225 H 10 A 2.252 2.252 0 0 1 7.75 16 V 14.75 H 14 A 3.754 3.754 0 0 0 17.75 11 V 8.75 H 18 A 2.252 2.252 0 0 1 20.25 11 Z" stroke-linecap="round"/>
                            </g>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        {{end}}
    </div>
{{end}}

{{define "scripts"}}
<script src="/static/js/home.js"></script>
<script src="/static/js/global.js"></script>

{{end}}
